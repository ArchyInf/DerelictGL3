/*

Boost Software License - Version 1.0 - August 17th, 2003

Permission is hereby granted, free of charge, to any person or organization
obtaining a copy of the software and accompanying documentation covered by
this license (the "Software") to use, reproduce, display, distribute,
execute, and transmit the Software, and to prepare derivative works of the
Software, and to permit third-parties to whom the Software is furnished to
do so, all subject to the following:

The copyright notices in the Software and this entire statement, including
the above license grant, this restriction and the following disclaimer,
must be included in all copies of the Software, in whole or in part, and
all derivative works of the Software, unless such copies or derivative
works are solely in the form of machine-executable object code generated by
a source language processor.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.

*/
module derelict.opengl3.internal.glxfunctions;

private import derelict.util.system;
static if( Derelict_OS_Posix && !Derelict_OS_Mac ) {
    private import derelict.util.xtypes;
    private import derelict.opengl3.internal.coreconstants;
    private import derelict.opengl3.internal.glxconstants;
    private import derelict.opengl3.internal.types;

    extern ( C ) nothrow {
        // GLX
        alias da_glXChooseVisual = XVisualInfo* function( Display*,int,int* );
        alias da_glXCopyContext = void function( Display*,GLXContext,GLXContext,uint );
        alias da_glXCreateContext = GLXContext function( Display*,XVisualInfo*,GLXContext,Bool );
        alias da_glXCreateGLXPixmap = GLXPixmap function( Display*,XVisualInfo*,Pixmap );
        alias da_glXDestroyContext = void function( Display*,GLXContext );
        alias da_glXDestroyGLXPixmap = void function( Display*,GLXPixmap );
        alias da_glXGetConfig = int  function( Display*,XVisualInfo*,int,int* );
        alias da_glXGetCurrentContext = GLXContext function();
        alias da_glXGetCurrentDrawable = GLXDrawable function();
        alias da_glXIsDirect = Bool function( Display*,GLXContext );
        alias da_glXMakeCurrent = Bool function( Display*,GLXDrawable,GLXContext );
        alias da_glXQueryExtension = Bool function( Display*,int*,int* );
        alias da_glXQueryVersion = Bool function( Display*,int*,int* );
        alias da_glXSwapBuffers = void function( Display*,GLXDrawable );
        alias da_glXUseXFont = void function( Font,int,int,int );
        alias da_glXWaitGL = void function();
        alias da_glXWaitX = void function();
        alias da_glXGetClientString = char* function( Display*,int );
        alias da_glXQueryServerString = char* function( Display*,int,int );
        alias da_glXQueryExtensionsString = char* function( Display*,int );
        alias da_glXGetFBConfigs = GLXFBConfig* function( Display*,int,int* );
        alias da_glXChooseFBConfig = GLXFBConfig* function( Display*,int,int*,int* );
        alias da_glXGetFBConfigAttrib = int  function( Display*,GLXFBConfig,int,int* );
        alias da_glXGetVisualFromFBConfig = XVisualInfo* function( Display*,GLXFBConfig );
        alias da_glXCreateWindow = GLXWindow function( Display*,GLXFBConfig,Window,int* );
        alias da_glXDestroyWindow = void function( Display*,GLXWindow );
        alias da_glXCreatePixmap = GLXPixmap function( Display*,GLXFBConfig,Pixmap,int* );
        alias da_glXDestroyPixmap = void function( Display*,GLXPixmap );
        alias da_glXCreatePbuffer = GLXPbuffer function( Display*,GLXFBConfig,int* );
        alias da_glXDestroyPbuffer = void function( Display*,GLXPbuffer );
        alias da_glXQueryDrawable = void function( Display*,GLXDrawable,int,uint* );
        alias da_glXCreateNewContext = GLXContext function( Display*,GLXFBConfig,int,GLXContext,Bool );
        alias da_glXMakeContextCurrent = Bool function( Display*,GLXDrawable,GLXDrawable,GLXContext );
        alias da_glXGetCurrentReadDrawable = GLXDrawable function();
        alias da_glXGetCurrentDisplay = Display* function();
        alias da_glXQueryContext = int  function( Display*,GLXContext,int,int* );
        alias da_glXSelectEvent = void function( Display*,GLXDrawable,uint );
        alias da_glXGetSelectedEvent = void function( Display*,GLXDrawable,uint* );
        alias da_glXGetProcAddress = void* function( const( char )* );

        alias __GLXextFuncPtr = void function();
        // GLX_ARB_create_context
        alias da_glXCreateContextAttribsARB = GLXContext function( Display *dpy, GLXFBConfig config, GLXContext share_context, Bool direct, const int *attrib_list );
        // GLX_ARB_get_proc_address
        alias da_glXGetProcAddressARB = __GLXextFuncPtr function( const GLubyte *procName );
        // GLX_EXT_import_context
        alias da_glXGetCurrentDisplayEXT = Display* function();
        alias da_glXQueryContextInfoEXT = int function( Display* dpy, GLXContext context, int attribute, int* value );
        alias da_glXGetContextIDEXT = GLXContextID function( const GLXContext context );
        alias da_glXImportContextEXT = GLXContext function( Display* dpy, GLXContextID contextID );
        alias da_glXFreeContextEXT = void function( Display* dpy, GLXContext context );
        // GLX_EXT_swap_control
        alias da_glXSwapIntervalEXT = void function( Display* dpy, GLXDrawable drawable, int interval );
        // GLX_EXT_texture_from_pixmap
        alias da_glXBindTexImageEXT = void function( Display* dpy, GLXDrawable drawable, int buffer, const int* attrib_list );
        alias da_glXReleaseTexImageEXT = void function( Display* dpy, GLXDrawable drawable, int buffer );
        // GLX_MESA_agp_offset
        alias da_glXGetAGPOffsetMESA = uint function( const void* pointer );
        // GLX_MESA_pixmap_colormap
        alias da_glXCreateGLXPixmapMESA = GLXPixmap function( Display* dpy, XVisualInfo* visual, Pixmap pixmap, Colormap cmap );
        // GLX_MESA_release_buffers
        alias da_glXReleaseBuffersMESA = Bool function( Display* dpy, GLXDrawable drawable );
        // GLX_MESA_set_3dfx_mode
        alias da_glXSet3DfxModeMESA = Bool function( int mode );
        // GLX_NV_copy_image
        alias da_glXCopyImageSubDataNV = void function( Display* dpy, GLXContext srcCtx, GLuint srcName, GLenum srcTarget, GLint srcLevel, GLint srcX, GLint srcY, GLint srcZ, GLXContext dstCtx, GLuint dstName, GLenum dstTarget, GLint dstLevel, GLint dstX, GLint dstY, GLint dstZ, GLsizei width, GLsizei height, GLsizei depth );
        // GLX_NV_present_video
        alias da_glXEnumerateVideoDevicesNV = uint* function( Display* dpy, int screen, int* nelements );
        alias da_glXBindVideoDeviceNV = int function( Display* dpy, uint video_slot, uint video_device, const int* attrib_list );
        // GLX_NV_swap_group
        alias da_glXJoinSwapGroupNV = Bool function( Display* dpy, GLXDrawable drawable, GLuint group );
        alias da_glXBindSwapBarrierNV = Bool function( Display* dpy, GLuint group, GLuint barrier );
        alias da_glXQuerySwapGroupNV = Bool function( Display* dpy, GLXDrawable drawable, GLuint* group, GLuint* barrier );
        alias da_glXQueryMaxSwapGroupsNV = Bool function( Display* dpy, int screen, GLuint* maxGroups, GLuint* maxBarriers );
        alias da_glXQueryFrameCountNV = Bool function( Display* dpy, int screen, GLuint* count );
        alias da_glXResetFrameCountNV = Bool function( Display* dpy, int screen );
        // GLX_NV_video_capture
        alias da_glXBindVideoCaptureDeviceNV = int function( Display* dpy, uint video_capture_slot, GLXVideoCaptureDeviceNV device );
        alias da_glXEnumerateVideoCaptureDevicesNV = GLXVideoCaptureDeviceNV* function( Display* dpy, int screen, int* nelements );
        alias da_glXLockVideoCaptureDeviceNV = void function( Display* dpy, GLXVideoCaptureDeviceNV device );
        alias da_glXQueryVideoCaptureDeviceNV = int function( Display* dpy, GLXVideoCaptureDeviceNV device, int attribute, int* value );
        alias da_glXReleaseVideoCaptureDeviceNV = void function( Display* dpy, GLXVideoCaptureDeviceNV device );
        // GLX_NV_video_output
        alias da_glXGetVideoDeviceNV = int function( Display* dpy, int screen, int numVideoDevices, GLXVideoDeviceNV* pVideoDevice );
        alias da_glXReleaseVideoDeviceNV = int function( Display* dpy, int screen, GLXVideoDeviceNV VideoDevice );
        alias da_glXBindVideoImageNV = int function( Display* dpy, GLXVideoDeviceNV VideoDevice, GLXPbuffer pbuf, int iVideoBuffer );
        alias da_glXReleaseVideoImageNV = int function( Display* dpy, GLXPbuffer pbuf );
        alias da_glXSendPbufferToVideoNV = int function( Display* dpy, GLXPbuffer pbuf, int iBufferType, ulong* pulCounterPbuffer, GLboolean bBlock );
        alias da_glXGetVideoInfoNV = int function( Display* dpy, int screen, GLXVideoDeviceNV VideoDevice, ulong* pulCounterOutputPbuffer, ulong* pulCounterOutputVideo );
        // GLX_OML_sync_control
        alias da_glXGetSyncValuesOML = Bool function( Display* dpy, GLXDrawable drawable, long* ust, long* msc, long* sbc );
        alias da_glXGetMscRateOML = Bool function( Display* dpy, GLXDrawable drawable, int* numerator, int* denominator );
        alias da_glXSwapBuffersMscOML = long function( Display* dpy, GLXDrawable drawable, long target_msc, long divisor, long remainder );
        alias da_glXWaitForMscOML = Bool function( Display* dpy, GLXDrawable drawable, long target_msc, long divisor, long remainder, long* ust, long* msc, long* sbc );
        alias da_glXWaitForSbcOML = Bool function( Display* dpy, GLXDrawable drawable, long target_sbc, long* ust, long* msc, long* sbc );
        // GLX_SGIX_fbconfig
        alias da_glXGetFBConfigAttribSGIX = int function( Display* dpy, GLXFBConfigSGIX config, int attribute, int* value );
        alias da_glXChooseFBConfigSGIX = GLXFBConfigSGIX* function( Display* dpy, int screen, int* attrib_list, int* nelements );
        alias da_glXCreateGLXPixmapWithConfigSGIX = GLXPixmap function( Display* dpy, GLXFBConfigSGIX config, Pixmap pixmap );
        alias da_glXCreateContextWithConfigSGIX = GLXContext function( Display* dpy, GLXFBConfigSGIX config, int render_type, GLXContext share_list, Bool direct );
        alias da_glXGetVisualFromFBConfigSGIX = XVisualInfo* function( Display* dpy, GLXFBConfigSGIX config );
        alias da_glXGetFBConfigFromVisualSGIX = GLXFBConfigSGIX function( Display* dpy, XVisualInfo* vis );
        // GLX_SGIX_hyperpipe
        alias da_glXQueryHyperpipeNetworkS = GLXHyperpipeNetworkSGIX* function( Display* dpy, int* npipes );
        alias da_glXHyperpipeConfigSGIX = int function( Display* dpy, int networkId, int npipes, GLXHyperpipeConfigSGIX* cfg, int* hpId );
        alias da_glXQueryHyperpipeConfigSGIX = GLXHyperpipeConfigSGIX* function( Display* dpy, int hpId, int* npipes );
        alias da_glXDestroyHyperpipeConfigSGIX = int function( Display* dpy, int hpId );
        alias da_glXBindHyperpipeSGIX = int function( Display* dpy, int hpId );
        alias da_glXQueryHyperpipeBestAttribSGIX = int function( Display* dpy, int timeSlice, int attrib, int size, void* attribList, void* returnAttribList );
        alias da_glXHyperpipeAttribSGIX = int function( Display* dpy, int timeSlice, int attrib, int size, void* attribList );
        alias da_glXQueryHyperpipeAttribSGIX = int function( Display* dpy, int timeSlice, int attrib, int size, void* returnAttribList );
        // GLX_SGIX_pbuffer
        alias da_glXCreateGLXPbufferSGIX = GLXPbufferSGIX function( Display* dpy, GLXFBConfigSGIX config, uint width, uint height, int* attrib_list );
        alias da_glXDestroyGLXPbufferSGIX = void function( Display* dpy, GLXPbufferSGIX pbuf );
        alias da_glXQueryGLXPbufferSGIX = int function( Display* dpy, GLXPbufferSGIX pbuf, int attribute, uint* value );
        alias da_glXSelectEventSGIX = void function( Display* dpy, GLXDrawable drawable, ulong mask );
        alias da_glXGetSelectedEventSGIX = void function( Display* dpy, GLXDrawable drawable, ulong* mask );
        // GLX_SGIX_swap_barrier
        alias da_glXBindSwapBarrierSGIX = void function( Display* dpy, GLXDrawable drawable, int barrier );
        alias da_glXQueryMaxSwapBarriersSGIX = Bool function( Display* dpy, int screen, int* max );
        // GLX_SGIX_swap_group
        alias da_glXJoinSwapGroupSGIX = void function( Display* dpy, GLXDrawable drawable, GLXDrawable member );
        // GLX_SGIX_video_source
        alias da_glXBindChannelToWindowSGIX = int function( Display* display, int screen, int channel, Window window );
        alias da_glXChannelRectSGIX = int function( Display* display, int screen, int channel, int x, int y, int w, int h );
        alias da_glXQueryChannelRectSGIX = int function( Display* display, int screen, int channel, int* dx, int* dy, int* dw, int* dh );
        alias da_glXQueryChannelDeltasSGIX = int function( Display* display, int screen, int channel, int* x, int* y, int* w, int* h );
        alias da_glXChannelRectSyncSGIX = int function( Display* display, int screen, int channel, GLenum synctype );
        // GLX_SGI_cushion
        alias da_glXCushionSGI = void function( Display* dpy, Window window, float cushion );
        // GLX_SGI_swap_control
        alias da_glXSwapIntervalSGI = int function( int interval );
        // GLX_SGI_video_sync
        alias da_glXGetVideoSyncSGI = int function( uint* count );
        alias da_glXWaitVideoSyncSGI = int function( int divisor, int remainder, uint* count );
        // GLX_SUN_get_transparent_index
        alias da_glXGetTransparentIndexSUN = Status function( Display* dpy, Window overlay, Window underlay, long* pTransparentIndex );
    }

    enum GLXFuncs =
    q{
        da_glXChooseVisual glXChooseVisual;
        da_glXCopyContext glXCopyContext;
        da_glXCreateContext glXCreateContext;
        da_glXCreateGLXPixmap glXCreateGLXPixmap;
        da_glXDestroyContext glXDestroyContext;
        da_glXDestroyGLXPixmap glXDestroyGLXPixmap;
        da_glXGetConfig glXGetConfig;
        da_glXGetCurrentContext glXGetCurrentContext;
        da_glXGetCurrentDrawable glXGetCurrentDrawable;
        da_glXIsDirect glXIsDirect;
        da_glXMakeCurrent glXMakeCurrent;
        da_glXQueryExtension glXQueryExtension;
        da_glXQueryVersion glXQueryVersion;
        da_glXSwapBuffers glXSwapBuffers;
        da_glXUseXFont glXUseXFont;
        da_glXWaitGL glXWaitGL;
        da_glXWaitX glXWaitX;
        da_glXGetClientString glXGetClientString;
        da_glXQueryServerString glXQueryServerString;
        da_glXQueryExtensionsString glXQueryExtensionsString;
        da_glXGetFBConfigs glXGetFBConfigs;
        da_glXChooseFBConfig glXChooseFBConfig;
        da_glXGetFBConfigAttrib glXGetFBConfigAttrib;
        da_glXGetVisualFromFBConfig glXGetVisualFromFBConfig;
        da_glXCreateWindow glXCreateWindow;
        da_glXDestroyWindow glXDestroyWindow;
        da_glXCreatePixmap glXCreatePixmap;
        da_glXDestroyPixmap glXDestroyPixmap;
        da_glXCreatePbuffer glXCreatePbuffer;
        da_glXDestroyPbuffer glXDestroyPbuffer;
        da_glXQueryDrawable glXQueryDrawable;
        da_glXCreateNewContext glXCreateNewContext;
        da_glXMakeContextCurrent glXMakeContextCurrent;
        da_glXGetCurrentReadDrawable glXGetCurrentReadDrawable;
        da_glXGetCurrentDisplay glXGetCurrentDisplay;
        da_glXQueryContext glXQueryContext;
        da_glXSelectEvent glXSelectEvent;
        da_glXGetSelectedEvent glXGetSelectedEvent;
        da_glXGetProcAddress glXGetProcAddress;
    };

    enum GLXEXTFuncs =
    q{
        da_glXCreateContextAttribsARB glXCreateContextAttribsARB;
        da_glXGetProcAddressARB glXGetProcAddressARB;
        da_glXGetCurrentDisplayEXT glXGetCurrentDisplayEXT;
        da_glXQueryContextInfoEXT glXQueryContextInfoEXT;
        da_glXGetContextIDEXT glXGetContextIDEXT;
        da_glXImportContextEXT glXImportContextEXT;
        da_glXFreeContextEXT glXFreeContextEXT;
        da_glXSwapIntervalEXT glXSwapIntervalEXT;
        da_glXBindTexImageEXT glXBindTexImageEXT;
        da_glXReleaseTexImageEXT glXReleaseTexImageEXT;
        da_glXGetAGPOffsetMESA glXGetAGPOffsetMESA;
        da_glXCreateGLXPixmapMESA glXCreateGLXPixmapMESA;
        da_glXReleaseBuffersMESA glXReleaseBuffersMESA;
        da_glXSet3DfxModeMESA glXSet3DfxModeMESA;
        da_glXCopyImageSubDataNV glXCopyImageSubDataNV;
        da_glXEnumerateVideoDevicesNV glXEnumerateVideoDevicesNV;
        da_glXBindVideoDeviceNV glXBindVideoDeviceNV;
        da_glXJoinSwapGroupNV glXJoinSwapGroupNV;
        da_glXBindSwapBarrierNV glXBindSwapBarrierNV;
        da_glXQuerySwapGroupNV glXQuerySwapGroupNV;
        da_glXQueryMaxSwapGroupsNV glXQueryMaxSwapGroupsNV;
        da_glXQueryFrameCountNV glXQueryFrameCountNV;
        da_glXResetFrameCountNV glXResetFrameCountNV;
        da_glXBindVideoCaptureDeviceNV glXBindVideoCaptureDeviceNV;
        da_glXEnumerateVideoCaptureDevicesNV glXEnumerateVideoCaptureDevicesNV;
        da_glXLockVideoCaptureDeviceNV glXLockVideoCaptureDeviceNV;
        da_glXQueryVideoCaptureDeviceNV glXQueryVideoCaptureDeviceNV;
        da_glXReleaseVideoCaptureDeviceNV glXReleaseVideoCaptureDeviceNV;
        da_glXGetVideoDeviceNV glXGetVideoDeviceNV;
        da_glXReleaseVideoDeviceNV glXReleaseVideoDeviceNV;
        da_glXBindVideoImageNV glXBindVideoImageNV;
        da_glXReleaseVideoImageNV glXReleaseVideoImageNV;
        da_glXSendPbufferToVideoNV glXSendPbufferToVideoNV;
        da_glXGetVideoInfoNV glXGetVideoInfoNV;
        da_glXGetSyncValuesOML glXGetSyncValuesOML;
        da_glXGetMscRateOML glXGetMscRateOML;
        da_glXSwapBuffersMscOML glXSwapBuffersMscOML;
        da_glXWaitForMscOML glXWaitForMscOML;
        da_glXWaitForSbcOML glXWaitForSbcOML;
        da_glXGetFBConfigAttribSGIX glXGetFBConfigAttribSGIX;
        da_glXChooseFBConfigSGIX glXChooseFBConfigSGIX;
        da_glXCreateGLXPixmapWithConfigSGIX glXCreateGLXPixmapWithConfigSGIX;
        da_glXCreateContextWithConfigSGIX glXCreateContextWithConfigSGIX;
        da_glXGetVisualFromFBConfigSGIX glXGetVisualFromFBConfigSGIX;
        da_glXGetFBConfigFromVisualSGIX glXGetFBConfigFromVisualSGIX;
        da_glXQueryHyperpipeNetworkS glXQueryHyperpipeNetworkS;
        da_glXHyperpipeConfigSGIX glXHyperpipeConfigSGIX;
        da_glXQueryHyperpipeConfigSGIX glXQueryHyperpipeConfigSGIX;
        da_glXDestroyHyperpipeConfigSGIX glXDestroyHyperpipeConfigSGIX;
        da_glXBindHyperpipeSGIX glXBindHyperpipeSGIX;
        da_glXQueryHyperpipeBestAttribSGIX glXQueryHyperpipeBestAttribSGIX;
        da_glXHyperpipeAttribSGIX glXHyperpipeAttribSGIX;
        da_glXQueryHyperpipeAttribSGIX glXQueryHyperpipeAttribSGIX;
        da_glXCreateGLXPbufferSGIX glXCreateGLXPbufferSGIX;
        da_glXDestroyGLXPbufferSGIX glXDestroyGLXPbufferSGIX;
        da_glXQueryGLXPbufferSGIX glXQueryGLXPbufferSGIX;
        da_glXSelectEventSGIX glXSelectEventSGIX;
        da_glXGetSelectedEventSGIX glXGetSelectedEventSGIX;
        da_glXBindSwapBarrierSGIX glXBindSwapBarrierSGIX;
        da_glXQueryMaxSwapBarriersSGIX glXQueryMaxSwapBarriersSGIX;
        da_glXJoinSwapGroupSGIX glXJoinSwapGroupSGIX;
        da_glXBindChannelToWindowSGIX glXBindChannelToWindowSGIX;
        da_glXChannelRectSGIX glXChannelRectSGIX;
        da_glXQueryChannelRectSGIX glXQueryChannelRectSGIX;
        da_glXQueryChannelDeltasSGIX glXQueryChannelDeltasSGIX;
        da_glXChannelRectSyncSGIX glXChannelRectSyncSGIX;
        da_glXCushionSGI glXCushionSGI;
        da_glXSwapIntervalSGI glXSwapIntervalSGI;
        da_glXGetVideoSyncSGI glXGetVideoSyncSGI;
        da_glXWaitVideoSyncSGI glXWaitVideoSyncSGI;
        da_glXGetTransparentIndexSUN glXGetTransparentIndexSUN;
    };

    enum GLXEXTProps =
    q{
        bool GLX_ARB_create_context;
        bool GLX_ARB_get_proc_address;
        bool GLX_EXT_import_context;
        bool GLX_EXT_swap_control;
        bool GLX_EXT_texture_from_pixmap;
        bool GLX_MESA_agp_offset;
        bool GLX_MESA_pixmap_colormap;
        bool GLX_MESA_release_buffers;
        bool GLX_MESA_set_3dfx_mode;
        bool GLX_NV_copy_image;
        bool GLX_NV_present_video;
        bool GLX_NV_swap_group;
        bool GLX_NV_video_capture;
        bool GLX_NV_video_output;
        bool GLX_OML_sync_control;
        bool GLX_SGIX_fbconfig;
        bool GLX_SGIX_hyperpipe;
        bool GLX_SGIX_pbuffer;
        bool GLX_SGIX_swap_barrier;
        bool GLX_SGIX_swap_group;
        bool GLX_SGIX_video_source;
        bool GLX_SGI_cushion;
        bool GLX_SGI_swap_control;
        bool GLX_SGI_video_sync;
        bool GLX_SUN_get_transparent_index;
    };
}